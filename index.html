<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Project Purgatory</title>
  </head>
  <body style="background-color:black; color: white">
      <script src="http://ondras.github.com/rot.js/rot.js"></script>
      <script src="base.js"></script>
      <script src="log.js"></script>
      <script src="colors.js"></script>
      <script src="features.js"></script>
      <script src="portals.js"></script>
      <script src="PP.js"></script>
      <script src="player.js"></script>
      <script src="items.js"></script>
      <script src="potions.js"></script>
      <script src="wizard.js"></script>
      <script src="controller.js"></script>
      <script src="saveload.js"></script>
      <script src="keyboard.js"></script>
      <script src="mouse.js"></script>
      <script>
        /* file:///C:/Users/konij/Documents/GitHub/project-pandora/index.html */
        //Are we ready for some ROT times ?
        if( !ROT.isSupported() )
          alert( "This game will not run on your 'browser'" );
        else
          document.addEventListener("DOMContentLoaded", start);
          
        function start()
        {
          //Display
          if( !PP.display )
          {
            PP.display = new ROT.Display({width:PP.width, height:PP.height});
            document.body.appendChild( PP.display.getContainer() );
          }
          //Keyboard & Mouse
          PP.kb.listen();
          PP.mouse.listen();
          PP.display.drawText( 5 ,  0 , "%c{red}Project Purgatory" );
          var list = PP.save.list();
          list.forEach((v,i) => PP.display.drawText(5, 5+i, v));
          setTimeout(e => window.scrollTo(0,0), 500);
          PP.kb.next = PP.load;
          console.log(DEBUG, PP.display);
        }
    </script>
  </body>
</html>