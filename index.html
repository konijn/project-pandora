<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Project Purgatory</title>
  </head>
  <body style="background-color:black; color: white">
      <script src="http://ondras.github.com/rot.js/rot.js"></script>
      <script>
        //One global to rule them all
        PP = {};
      </script>
      <script src="saveload.js"></script>
      <script src="keyboard.js"></script>
      <script>      
        PP.kb = { listening : false }; //Keyboard
        
        //Are we ready for some ROT times ?
        if( !ROT.isSupported() )
          alert( "This game will not run on your 'browser'" );
        else
          start();
          
        function start()
        {
          //Display
          if( !PP.display )
          {
            PP.display = new ROT.Display({width:80, height:50});
            document.body.appendChild( PP.display.getContainer() );
          }
          //Keyboard
          if( !PP.kb.listening )
          {
            PP.kb.listen();
          }
          PP.display.drawText( 5 ,  2 , "Project Pandora" );
          var list = PP.save.list();
          list.forEach( function( v,i){ PP.display.drawText( 5 ,  10+i , v );  });
          
        }
    </script>
  </body>
</html>
